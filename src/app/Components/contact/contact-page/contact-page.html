<section class="contact-section section">
  <div class="container">
    <div class="contact-header text-center">
      <h1>{{ t.title }}</h1>
      <p>{{ t.subtitle }}</p>
    </div>

    <div class="contact-content">
      <div class="contact-info">
        <div class="info-card card">
          <div class="info-icon">ðŸ“§</div>
          <h3>{{ t.emailUs }}</h3>
          <p>info@tevolai.com</p>
          <p>support@tevolai.com</p>
        </div>
        <div class="info-card card">
          <div class="info-icon">ðŸ“ž</div>
          <h3>{{ t.callUs }}</h3>
          <p class="ltr-text">{{ phoneNumber }}</p>
          <p>{{ t.availability }}</p>
        </div>
        <div class="info-card card whatsapp-card" (click)="openWhatsApp()">
          <div class="info-icon">ðŸ’¬</div>
          <h3>{{ t.whatsappUs }}</h3>
          <p class="ltr-text">{{ phoneNumber }}</p>
          <p class="whatsapp-hint">
            {{ currentLang() === 'ar' ? 'Ø§Ù†Ù‚Ø± Ù„Ù„Ø¯Ø±Ø¯Ø´Ø©' : 'Click to chat' }}
          </p>
        </div>
      </div>

      <div class="contact-form-wrapper card">
        @if (successMessage()) {
        <div class="alert alert-success">
          {{ successMessage() }}
        </div>
        } @if (errorMessage()) {
        <div class="alert alert-error">
          {{ errorMessage() }}
        </div>
        }

        <h2>{{ t.sendMessage }}</h2>
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
          <div class="form-group">
            <label for="name">{{ t.nameLabel }}</label>
            <input
              type="text"
              id="name"
              formControlName="name"
              [placeholder]="t.namePlaceholder"
              [class.error]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched"
            />
            @if (contactForm.get('name')?.invalid && contactForm.get('name')?.touched) {
            <span class="error-text">{{ t.nameRequired }}</span>
            }
          </div>

          <div class="form-group">
            <label for="email">{{ t.emailLabel }}</label>
            <input
              type="email"
              id="email"
              formControlName="email"
              [placeholder]="t.emailPlaceholder"
              [class.error]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched"
            />
            @if (contactForm.get('email')?.invalid && contactForm.get('email')?.touched) {
            <span class="error-text">{{ t.emailInvalid }}</span>
            }
          </div>

          <div class="form-group">
            <label for="subject">{{ t.subjectLabel }}</label>
            <input
              type="text"
              id="subject"
              formControlName="subject"
              [placeholder]="t.subjectPlaceholder"
              [class.error]="
                contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched
              "
            />
            @if (contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched) {
            <span class="error-text">{{ t.subjectRequired }}</span>
            }
          </div>

          <div class="form-group">
            <label for="message">{{ t.messageLabel }}</label>
            <textarea
              id="message"
              formControlName="message"
              rows="6"
              [placeholder]="t.messagePlaceholder"
              [class.error]="
                contactForm.get('message')?.invalid && contactForm.get('message')?.touched
              "
            ></textarea>
            @if (contactForm.get('message')?.invalid && contactForm.get('message')?.touched) {
            <span class="error-text">{{ t.messageMinLength }}</span>
            }
          </div>

          <button
            type="submit"
            class="btn btn-primary btn-block"
            [disabled]="contactForm.invalid || isLoading()"
          >
            @if (isLoading()) {
            <span class="spinner-small"></span> {{ t.sending }}
            } @else {
            {{ t.sendButton }}
            }
          </button>
        </form>
      </div>
    </div>
  </div>
</section>
